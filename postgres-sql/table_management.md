### Creating a table

```sql
CREATE TABLE weather (
 city varchar(80),
 temp_lo int, -- low temperature
 temp_hi int, -- high temperature
 prcp real, -- precipitation
 date date
);
-- is a comment
```

### dropping a table

```sql
DROP TABLE tablename;
```

### Creating a unique id.

```sql
id BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
```

or if you want to be able to edit the id.

```sql
id BIGINT GENERATED BY DEFAULT AS IDENTITY
```

### What is a primary key.

- Enforces: Uniqueness, NOT NULL

- Automatically creates a unique index

- Used by: Foreign keys, Query planners, ORMs

### Querying a table

```sql
SELECT * FROM weather;
```

### How to see all tables in a database.

```sql
\dt
\dt *.* --see all schemas

--using sql
SELECT table_name
FROM information_schema.tables
WHERE table_schema = 'public';

--include schema names
SELECT table_schema, table_name
FROM information_schema.tables
ORDER BY table_schema, table_name;

```

### How to create an enum

```sql
CREATE TYPE role AS ENUM (
	'user',
	'moderator',
	'admin'
);
```

### Adding a new column

```sql
ALTER TABLE users
ADD COLUMN role role NOT NULL DEFAULT 'user';
```

### Altering a table.

```sql
ALTER TABLE users
ALTER COLUMN updated_at SET DEFAULT now();
```

### how to remove a default in an existing column.

```sql
ALTER TABLE users ALTER COLUMN role DROP DEFAULT;
```

### set the default back.

```sql
ALTER TABLE users ALTER COLUMN role SET DEFAULT 'app_user';
```

### updating a record in the table
```sql
UPDATE users SET disabled = true WHERE id = 3;
```